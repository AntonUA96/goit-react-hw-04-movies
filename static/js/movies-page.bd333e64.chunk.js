(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{32:function(e,t,a){"use strict";var n=a(37),c=a.n(n),i="https://api.themoviedb.org/3",o="17748166fe59cedb6c7b855a403e9f75";t.a={getTrending:function(){return c.a.get("".concat(i,"/trending/movie/day?api_key=").concat(o))},searchMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return c.a.get("".concat(i,"/search/movie?api_key=").concat(o,"&language=en-US&query=").concat(e,"&page=1&include_adult=false"))},getMovieDetails:function(e){return c.a.get("".concat(i,"/movie/").concat(e,"?api_key=").concat(o,"&language=en-US"))},getMovieCast:function(e){return c.a.get("".concat(i,"/movie/").concat(e,"/credits?api_key=").concat(o))},getMovieReviews:function(e){return c.a.get("".concat(i,"/movie/").concat(e,"/reviews?api_key=").concat(o,"&language=en-US&page=1"))}}},65:function(e,t,a){"use strict";a.r(t);var n=a(33),c=a(34),i=a(36),o=a(35),r=a(0),s=a(10),u=a(2),h=a(32),l=a(9),p=a.n(l),v=a(1),m=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var c=arguments.length,i=new Array(c),o=0;o<c;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={query:"",movies:[]},e.handleChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.setState({query:""}),e.fetchFilms()},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.location.search){var t=new URLSearchParams(this.props.location.search).get("query");h.a.searchMovies(t).then((function(t){return e.setState({movies:t.data.results})})),this.props.history.push({pathname:this.props.location.pathname,search:"query=".concat(t)})}}},{key:"fetchFilms",value:function(){var e=this,t=this.state.query;h.a.searchMovies(t).then((function(a){e.setState({movies:a.data.results}),e.props.history.push({pathname:e.props.location.pathname,search:"query=".concat(t)})}))}},{key:"render",value:function(){var e=this.state.movies,t=this.props.location;return Object(v.jsxs)("div",{className:p.a.MoviesPage,children:[Object(v.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(v.jsx)("input",{type:"text",placeholder:"Search film",value:this.state.query,onChange:this.handleChange}),Object(v.jsx)("button",{type:"submit",children:"Search"})]}),e&&Object(v.jsx)("ul",{children:e.map((function(e){return Object(v.jsx)("li",{children:Object(v.jsx)(s.b,{to:{pathname:"/movies/".concat(e.id),state:{from:t}},children:e.title})},e.id)}))})]})}}]),a}(r.Component);t.default=Object(u.g)(m)}}]);
//# sourceMappingURL=movies-page.bd333e64.chunk.js.map